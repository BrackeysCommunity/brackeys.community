packagingDefinition:
  type: PrebuiltDockerImage
  dockerImage: ghcr.io/hasura/ndc-graphql:v0.2.3
supportedEnvironmentVariables:
  - name: GRAPHQL_ENDPOINT
    description: The GraphQL Endpoint
    defaultValue: ""
    required: true
commands:
  update: hasura-ndc-graphql update
  printSchemaAndCapabilities: hasura-ndc-graphql print-schema-and-capabilities
  upgradeConfiguration: hasura-ndc-graphql upgrade-configuration
cliPlugin:
  type: null
  name: ndc-graphql
  version: v0.2.3
dockerComposeWatch:
  - path: ./
    action: sync+restart
    target: /etc/connector
nativeToolchainDefinition:
  commands:
    start:
      type: ShellScript
      bash: "#!/usr/bin/env bash\nset -eu -o pipefail        \nHASURA_CONFIGURATION_DIRECTORY=\"$HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH\" \"$HASURA_DDN_NATIVE_CONNECTOR_DIR/ndc-graphql\" serve\n"
      powershell: |
        $ErrorActionPreference = "Stop"
        $env:HASURA_CONFIGURATION_DIRECTORY="$env:HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH"; & "$env:HASURA_DDN_NATIVE_CONNECTOR_DIR\ndc-graphql.exe" serve
    watch:
      type: ShellScript
      bash: |
        #!/usr/bin/env bash
        echo "Watch is not supported for this connector"
        exit 1
      powershell: |
        Write-Output "Watch is not supported for this connector"
        exit 1
    update:
      type: ShellScript
      bash: |
        #!/usr/bin/env bash
        set -eu -o pipefail
        "$HASURA_DDN_NATIVE_CONNECTOR_PLUGIN_DIR/hasura-ndc-graphql" update
      powershell: |
        $ErrorActionPreference = "Stop"
        & "$env:HASURA_DDN_NATIVE_CONNECTOR_PLUGIN_DIR\hasura-ndc-graphql.exe" update
documentationPage: https://hasura.info/graphql-getting-started
